!function(t){var e,i,n,a,o,d,c,r,s,h,l=0,f={},p=[],g=0,b={},u=[],y=null,w=new Image,m=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,v=/[^\.]\.(swf)\s*$/i,x,I=1,C=0,k="",O,j,T=!1,S=t.extend(t("<div/>")[0],{prop:0}),A=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,D=function(){i.hide(),w.onerror=w.onload=null,y&&y.abort(),e.empty()},F=function(){return!1===f.onError(p,l,f)?(i.hide(),void(T=!1)):(f.titleShow=!1,f.width="auto",f.height="auto",e.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void N())},E=function(){var n=p[l],a,o,c,r,s,h;if(D(),f=t.extend({},t.fn.fancybox.defaults,"undefined"==typeof t(n).data("fancybox")?f:t(n).data("fancybox")),h=f.onStart(p,l,f),h===!1)return void(T=!1);if("object"==typeof h&&(f=t.extend(f,h)),c=f.title||(n.nodeName?t(n).attr("title"):n.title)||"",n.nodeName&&!f.orig&&(f.orig=t(n).children("img:first").length?t(n).children("img:first"):t(n)),""===c&&f.orig&&f.titleFromAlt&&(c=f.orig.attr("alt")),a=f.href||(n.nodeName?t(n).attr("href"):n.href)||null,(/^(?:javascript)/i.test(a)||"#"==a)&&(a=null),f.type?(o=f.type,a||(a=f.content)):f.content?o="html":a&&(o=a.match(m)?"image":a.match(v)?"swf":t(n).hasClass("iframe")?"iframe":0===a.indexOf("#")?"inline":"ajax"),!o)return void F();switch("inline"==o&&(n=a.substr(a.indexOf("#")),o=t(n).length>0?"inline":"ajax"),f.type=o,f.href=a,f.title=c,f.autoDimensions&&("html"==f.type||"inline"==f.type||"ajax"==f.type?(f.width="auto",f.height="auto"):f.autoDimensions=!1),f.modal&&(f.overlayShow=!0,f.hideOnOverlayClick=!1,f.hideOnContentClick=!1,f.enableEscapeButton=!1,f.showCloseButton=!1),f.padding=parseInt(f.padding,10),f.margin=parseInt(f.margin,10),e.css("padding",f.padding+f.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(d.children())}),o){case"html":e.html(f.content),N();break;case"inline":if(t(n).parent().is("#fancybox-content")===!0)return void(T=!1);t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(n)).bind("fancybox-cleanup",function(){t(this).replaceWith(d.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(n).appendTo(e),N();break;case"image":T=!1,t.fancybox.showActivity(),w=new Image,w.onerror=function(){F()},w.onload=function(){T=!0,w.onerror=w.onload=null,B()},w.src=a;break;case"swf":f.scrolling="no",r='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+f.width+'" height="'+f.height+'"><param name="movie" value="'+a+'"></param>',s="",t.each(f.swf,function(t,e){r+='<param name="'+t+'" value="'+e+'"></param>',s+=" "+t+'="'+e+'"'}),r+='<embed src="'+a+'" type="application/x-shockwave-flash" width="'+f.width+'" height="'+f.height+'"'+s+"></embed></object>",e.html(r),N();break;case"ajax":T=!1,t.fancybox.showActivity(),f.ajax.win=f.ajax.success,y=t.ajax(t.extend({},f.ajax,{url:a,data:f.ajax.data||{},error:function(t,e,i){t.status>0&&F()},success:function(t,n,o){var d="object"==typeof o?o:y;if(200==d.status){if("function"==typeof f.ajax.win){if(h=f.ajax.win(a,t,n,o),h===!1)return void i.hide();("string"==typeof h||"object"==typeof h)&&(t=h)}e.html(t),N()}}}));break;case"iframe":P()}},N=function(){var i=f.width,n=f.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*f.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*f.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==f.scrolling?"auto":"yes"==f.scrolling?"scroll":"hidden")+';position:relative;"></div>'),f.width=e.width(),f.height=e.height(),P()},B=function(){f.width=w.width,f.height=w.height,t("<img />").attr({id:"fancybox-img",src:w.src,alt:f.title}).appendTo(e),P()},P=function(){var o,y;return i.hide(),a.is(":visible")&&!1===b.onCleanup(u,g,b)?(t.event.trigger("fancybox-cancel"),void(T=!1)):(T=!0,t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),a.is(":visible")&&"outside"!==b.titlePosition&&a.css("height",a.height()),u=p,g=l,b=f,b.overlayShow?(n.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(A&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),j=q(),M(),a.is(":visible")?(t(c.add(s).add(h)).hide(),o=a.position(),O={top:o.top,left:o.left,width:a.width(),height:a.height()},y=O.width==j.width&&O.height==j.height,void d.fadeTo(b.changeFade,.3,function(){var i=function(){d.html(e.contents()).fadeTo(b.changeFade,1,H)};t.event.trigger("fancybox-change"),d.empty().removeAttr("filter").css({"border-width":b.padding,width:j.width-2*b.padding,height:f.autoDimensions?"auto":j.height-C-2*b.padding}),y?i():(S.prop=0,t(S).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:K,complete:i}))})):(a.removeAttr("style"),d.css("border-width",b.padding),"elastic"==b.transitionIn?(O=X(),d.html(e.contents()),a.show(),b.opacity&&(j.opacity=0),S.prop=0,void t(S).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:K,complete:H})):("inside"==b.titlePosition&&C>0&&r.show(),d.css({width:j.width-2*b.padding,height:f.autoDimensions?"auto":j.height-C-2*b.padding}).html(e.contents()),void a.css(j).fadeIn("none"==b.transitionIn?0:b.speedIn,H))))},L=function(t){return t&&t.length?"float"==b.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+b.titlePosition+'">'+t+"</div>":!1},M=function(){if(k=b.title||"",C=0,r.empty().removeAttr("style").removeClass(),b.titleShow===!1)return void r.hide();if(k=t.isFunction(b.titleFormat)?b.titleFormat(k,u,g,b):L(k),!k||""===k)return void r.hide();switch(r.addClass("fancybox-title-"+b.titlePosition).html(k).appendTo("body").show(),b.titlePosition){case"inside":r.css({width:j.width-2*b.padding,marginLeft:b.padding,marginRight:b.padding}),C=r.outerHeight(!0),r.appendTo(o),j.height+=C;break;case"over":r.css({marginLeft:b.padding,width:j.width-2*b.padding,bottom:b.padding}).appendTo(o);break;case"float":r.css("left",-1*parseInt((r.width()-j.width-40)/2,10)).appendTo(a);break;default:r.css({width:j.width-2*b.padding,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(a)}r.hide()},z=function(){return(b.enableEscapeButton||b.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&b.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!b.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),b.showNavArrows?((b.cyclic&&u.length>1||0!==g)&&s.show(),void((b.cyclic&&u.length>1||g!=u.length-1)&&h.show())):(s.hide(),void h.hide())},H=function(){t.support.opacity||(d.get(0).style.removeAttribute("filter"),a.get(0).style.removeAttribute("filter")),f.autoDimensions&&d.css("height","auto"),a.css("height","auto"),k&&k.length&&r.show(),b.showCloseButton&&c.show(),z(),b.hideOnContentClick&&d.bind("click",t.fancybox.close),b.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),b.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==b.type&&t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(t.browser.msie?'allowtransparency="true""':"")+' scrolling="'+f.scrolling+'" src="'+b.href+'"></iframe>').appendTo(d),a.show(),T=!1,t.fancybox.center(),b.onComplete(u,g,b),R()},R=function(){var t,e;u.length-1>g&&(t=u[g+1].href,"undefined"!=typeof t&&t.match(m)&&(e=new Image,e.src=t)),g>0&&(t=u[g-1].href,"undefined"!=typeof t&&t.match(m)&&(e=new Image,e.src=t))},K=function(t){var e={width:parseInt(O.width+(j.width-O.width)*t,10),height:parseInt(O.height+(j.height-O.height)*t,10),top:parseInt(O.top+(j.top-O.top)*t,10),left:parseInt(O.left+(j.left-O.left)*t,10)};"undefined"!=typeof j.opacity&&(e.opacity=.5>t?.5:t),a.css(e),d.css({width:e.width-2*b.padding,height:e.height-C*t-2*b.padding})},W=function(){return[t(window).width()-2*b.margin,t(window).height()-2*b.margin,t(document).scrollLeft()+b.margin,t(document).scrollTop()+b.margin]},q=function(){var t=W(),e={},i=b.autoScale,n=2*b.padding,a;return e.width=b.width.toString().indexOf("%")>-1?parseInt(t[0]*parseFloat(b.width)/100,10):b.width+n,e.height=b.height.toString().indexOf("%")>-1?parseInt(t[1]*parseFloat(b.height)/100,10):b.height+n,i&&(e.width>t[0]||e.height>t[1])&&("image"==f.type||"swf"==f.type?(a=b.width/b.height,e.width>t[0]&&(e.width=t[0],e.height=parseInt((e.width-n)/a+n,10)),e.height>t[1]&&(e.height=t[1],e.width=parseInt((e.height-n)*a+n,10))):(e.width=Math.min(e.width,t[0]),e.height=Math.min(e.height,t[1]))),e.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-e.height-40)),10),e.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-e.width-40)),10),e},Q=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},X=function(){var e=f.orig?t(f.orig):!1,i={},n,a;return e&&e.length?(n=Q(e),i={width:n.width+2*b.padding,height:n.height+2*b.padding,top:n.top-b.padding-20,left:n.left-b.padding-20}):(a=W(),i={width:2*b.padding,height:2*b.padding,top:parseInt(a[3]+.5*a[1],10),left:parseInt(a[2]+.5*a[0],10)}),i},$=function(){return i.is(":visible")?(t("div",i).css("top",-40*I+"px"),void(I=(I+1)%12)):void clearInterval(x)};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!T){T=!0,t(this).blur(),p=[],l=0;var i=t(this).attr("rel")||"";i&&""!=i&&"nofollow"!==i?(p=t("a[rel="+i+"], area[rel="+i+"]"),l=p.index(this)):p.push(this),E()}}),this):this},t.fancybox=function(e){var i;if(!T){if(T=!0,i="undefined"!=typeof arguments[1]?arguments[1]:{},p=[],l=parseInt(i.index,10)||0,t.isArray(e)){for(var n=0,a=e.length;a>n;n++)"object"==typeof e[n]?t(e[n]).data("fancybox",t.extend({},i,e[n])):e[n]=t({}).data("fancybox",t.extend({content:e[n]},i));p=jQuery.merge(p,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},i,e)):e=t({}).data("fancybox",t.extend({content:e},i)),p.push(e);(l>p.length||0>l)&&(l=0),E()}},t.fancybox.showActivity=function(){clearInterval(x),i.show(),x=setInterval($,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(g+1)},t.fancybox.prev=function(){return t.fancybox.pos(g-1)},t.fancybox.pos=function(t){T||(t=parseInt(t),p=u,t>-1&&t<u.length?(l=t,E()):b.cyclic&&u.length>1&&(l=t>=u.length?0:u.length-1,E()))},t.fancybox.cancel=function(){T||(T=!0,t.event.trigger("fancybox-cancel"),D(),f.onCancel(p,l,f),T=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),r.empty().hide(),a.hide(),t.event.trigger("fancybox-cleanup"),d.empty(),b.onClosed(u,g,b),u=f=[],g=l=0,b=f={},T=!1}if(!T&&!a.is(":hidden")){if(T=!0,b&&!1===b.onCleanup(u,g,b))return void(T=!1);if(D(),t(c.add(s).add(h)).hide(),t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),d.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==b.titlePosition&&r.empty(),a.stop(),"elastic"==b.transitionOut){O=X();var i=a.position();j={top:i.top,left:i.left,width:a.width(),height:a.height()},b.opacity&&(j.opacity=1),r.empty().hide(),S.prop=1,t(S).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:K,complete:e})}else a.fadeOut("none"==b.transitionOut?0:b.speedOut,e)}},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(){var t,e;T||(e=arguments[0]===!0?1:0,t=W(),(e||!(a.width()>t[0]||a.height()>t[1]))&&a.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-d.height()-40)-b.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-d.width()-40)-b.padding))},"number"==typeof arguments[0]?arguments[0]:200))},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),i=t('<div id="fancybox-loading"><div></div></div>'),n=t('<div id="fancybox-overlay"></div>'),a=t('<div id="fancybox-wrap"></div>')),o=t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a),o.append(d=t('<div id="fancybox-content"></div>'),c=t('<a id="fancybox-close"></a>'),r=t('<div id="fancybox-title"></div>'),s=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),h=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),c.click(t.fancybox.close),i.click(t.fancybox.cancel),s.click(function(e){e.preventDefault(),t.fancybox.prev()}),h.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&a.bind("mousewheel.fb",function(e,i){T?e.preventDefault():(0==t(e.target).get(0).clientHeight||t(e.target).get(0).scrollHeight===t(e.target).get(0).clientHeight)&&(e.preventDefault(),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||a.addClass("fancybox-ie"),A&&(i.addClass("fancybox-ie6"),a.addClass("fancybox-ie6"),t('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery);